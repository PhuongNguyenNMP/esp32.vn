<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="author" content="Tuan PM">
  
  <title>Cài đặt cho MacOS - Internet Of Things (IoT) với ESP32</title>
  

  <link rel="shortcut icon" href="../../../img/favicon.ico">

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../../../css/highlight.css">

  <link rel="stylesheet" href="../../../css/custom.css">

  
  <script>
    // Current page data
    var mkdocs_page_name = "Cài đặt cho MacOS";
    var mkdocs_page_input_path = "esp-idf/basic/install-macos.md";
    var mkdocs_page_url = "/esp-idf/basic/install-macos/";
  </script>
  
  <script src="../../../js/jquery-2.1.1.min.js"></script>
  <script src="../../../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../../../js/highlight.pack.js"></script>
  <script src="../../../js/theme.js"></script>
  <script src="../../../js/jquery.cookie-1.4.1.min.js"></script>
  <script src="../../../js/nav.js"></script> 

  
  <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-60470603-7', 'esp32.vn');
      ga('send', 'pageview');
  </script>
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../../.." class="icon icon-home"> Internet Of Things (IoT) với ESP32</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        <ul class="current">
          
            <li><ul class="subnav">
    <li class="">
        <a class="" href="../../.." id="Trang chủ" style="font-size:95%;font-weight:bold;">Trang chủ</a>
    </li>
    
    <li class="paddingtop20"></li>
</ul>
<li>
          
            <li><ul class="subnav">
    <li class="current">
        <a class="current"  id="Nội dung" style="font-size:95%;font-weight:bold;">Nội dung</a>
    </li>
    
        <li class="">
            <a style="padding-left:50px;" class=""  id="ESP32 Arduino" onclick="showChildren('ESP32 Arduino')">ESP32 Arduino  <i class="fa fa-arrow-circle-down" style="padding-left:5px;font-size:13px;"></i></a>
        </li>
        
        <div style="display:none" id="hidden_ESP32 Arduino">
        
            <li class="">
                <a style="padding-left:70px;" class="" href="../../../arduino/arduino/" id="Giới thiệu">Giới thiệu </a>
            </li>
            
            <div style="display:none" id="hidden_ESP32 ArduinoGiới thiệu">
            
            </div>
        
            <li class="">
                <a style="padding-left:70px;" class="" href="../../../arduino/install/" id="Cài đặt">Cài đặt </a>
            </li>
            
            <div style="display:none" id="hidden_ESP32 ArduinoGiới thiệuCài đặt">
            
            </div>
        
        </div>
    
        <li class="current">
            <a style="padding-left:50px;" class="current"  id="ESP32 ESP-IDF" onclick="showChildren('ESP32 ESP-IDF')">ESP32 ESP-IDF  <i class="fa fa-arrow-circle-down" style="padding-left:5px;font-size:13px;"></i></a>
        </li>
        
        <div style="display:none" id="hidden_ESP32 ESP-IDF">
        
            <li class="">
                <a style="padding-left:70px;" class="" href="../../esp-idf/" id="Giới thiệu">Giới thiệu </a>
            </li>
            
            <div style="display:none" id="hidden_ESP32 ESP-IDFGiới thiệu">
            
            </div>
        
            <li class="current">
                <a style="padding-left:70px;" class="current"  id="Cơ bản" onclick="showChildren('ESP32 ESP-IDFGiới thiệuCơ bản')">Cơ bản  <i class="fa fa-arrow-circle-down" style="padding-left:5px;font-size:13px;"></i></a>
            </li>
            
            <div style="display:none" id="hidden_ESP32 ESP-IDFGiới thiệuCơ bản">
            
                <li class="">
                    <a style="padding-left:90px;" class="" href="../build-system/" id="Hệ thống biên dịch">Hệ thống biên dịch </a>
                </li>
            
                <li class="">
                    <a style="padding-left:90px;" class="" href="../install-windows/" id="Cài đặt cho Windows">Cài đặt cho Windows </a>
                </li>
            
                <li class="current">
                    <a style="padding-left:90px;" class="current" href="./" id="Cài đặt cho MacOS">Cài đặt cho MacOS </a>
                </li>
            
                <li class="">
                    <a style="padding-left:90px;" class="" href="../install-linux/" id="Cài đặt cho Linux">Cài đặt cho Linux </a>
                </li>
            
                <li class="">
                    <a style="padding-left:90px;" class="" href="../eclipse-setup/" id="Cài đặt cho Eclipse">Cài đặt cho Eclipse </a>
                </li>
            
                <li class="">
                    <a style="padding-left:90px;" class="" href="../openocd/" id="Sử dụng OpenOCD">Sử dụng OpenOCD </a>
                </li>
            
                <li class="">
                    <a style="padding-left:90px;" class="" href="../partition-tables/" id="Partition Tables">Partition Tables </a>
                </li>
            
            </div>
        
        </div>
    
    <li class="paddingtop20"></li>
</ul>
<li>
          
            <li><ul class="subnav">
    <li class="">
        <a class="" href="../../../projects/project-list/" id="Các dự án" style="font-size:95%;font-weight:bold;">Các dự án</a>
    </li>
    
    <li class="paddingtop20"></li>
</ul>
<li>
          
            <li><ul class="subnav">
    <li class="">
        <a class="" href="../../../license/" id="Bản quyền" style="font-size:95%;font-weight:bold;">Bản quyền</a>
    </li>
    
    <li class="paddingtop20"></li>
</ul>
<li>
          
            <li><ul class="subnav">
    <li class="">
        <a class="" href="../../../contributor/" id="Đóng góp" style="font-size:95%;font-weight:bold;">Đóng góp</a>
    </li>
    
    <li class="paddingtop20"></li>
</ul>
<li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../..">Internet Of Things (IoT) với ESP32</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../..">Docs</a> &raquo;</li>
    
      
        
          <li>ESP32 ESP-IDF &raquo;</li>
        
      
        
          <li>Cơ bản &raquo;</li>
        
      
    
    <li>Cài đặt cho MacOS</li>
    <li class="wy-breadcrumbs-aside">
      
        
          <a href="https://github.com/esp32vn/esp32.vn" class="icon icon-github"> Edit on GitHub</a>
        
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="step-0-prerequisites">Step 0: Prerequisites<a class="headerlink" href="#step-0-prerequisites" title="Permanent link">#</a></h1>
<h2 id="getting-macports-or-homebrew">Getting MacPorts or homebrew<a class="headerlink" href="#getting-macports-or-homebrew" title="Permanent link">#</a></h2>
<p>Whether you compile the toolchain from source or download binary toolchain, there are some dependencies which need to be installed on macOS first. These dependencies are installed with one of the package managers: homebrew or MacPorts. If you have these already, you can skip the following instructions.</p>
<ul>
<li>Install XCode from Mac App Store</li>
<li>Open Terminal.app and run <code>xcode-select --install</code></li>
<li>Run <code>sudo xcodebuild -license</code> and agree to XCode license</li>
<li>Install MacPorts_ or homebrew_</li>
</ul>
<p>.. _homebrew: http://brew.sh/
.. _MacPorts: https://www.macports.org/install.php</p>
<h1 id="step-1-download-binary-toolchain-for-the-esp32">Step 1: Download binary toolchain for the ESP32<a class="headerlink" href="#step-1-download-binary-toolchain-for-the-esp32" title="Permanent link">#</a></h1>
<p>ESP32 toolchain for macOS is available for download from Espressif website:</p>
<p>https://dl.espressif.com/dl/xtensa-esp32-elf-osx-1.22.0-59.tar.gz</p>
<p>Download this file, then extract it to the location you prefer, for example::</p>
<pre><code>mkdir -p ~/esp
cd ~/esp
tar -xzf ~/Downloads/xtensa-esp32-elf-osx-1.22.0-59.tar.gz
</code></pre>
<p>The toolchain will be extracted into <code>~/esp/xtensa-esp32-elf/</code> directory.</p>
<p>To use it, you will need to update your <code>PATH</code> environment variable in <code>~/.profile</code> file. To make <code>xtensa-esp32-elf</code> available for all terminal sessions, add the following line to your <code>~/.profile</code> file::</p>
<pre><code>export PATH=$PATH:$HOME/esp/xtensa-esp32-elf/bin
</code></pre>
<p>Alternatively, you may create an alias for the above command. This way you can get the toolchain only when you need it. To do this, add different line to your <code>~/.profile</code> file::</p>
<pre><code>alias get_esp32="export PATH=$PATH:$HOME/esp/xtensa-esp32-elf/bin"
</code></pre>
<p>Then when you need the toolchain you can type <code>get_esp32</code> on the command line and the toolchain will be added to your <code>PATH</code>.</p>
<h1 id="alternative-step-1-compile-the-toolchain-from-source-using-crosstool-ng">Alternative Step 1: Compile the toolchain from source using crosstool-NG<a class="headerlink" href="#alternative-step-1-compile-the-toolchain-from-source-using-crosstool-ng" title="Permanent link">#</a></h1>
<p>Instead of downloading binary toolchain from Espressif website (Step 1 above) you may build the toolchain yourself. </p>
<p>If you can&rsquo;t think of a reason why you need to build it yourself, then probably it&rsquo;s better to stick with the binary version. However, here are some of the reasons why you might want to compile it from source:</p>
<ul>
<li>
<p>if you want to customize toolchain build configuration</p>
</li>
<li>
<p>if you want to hack gcc or newlib or libstdc++</p>
</li>
<li>
<p>if you are curious and/or have time to spare</p>
</li>
<li>
<p>if you don&rsquo;t trust binaries downloaded from the Internet</p>
</li>
</ul>
<p>In any case, here are the steps to compile the toolchain yourself.</p>
<ul>
<li>
<p>Install dependencies:</p>
</li>
<li>
<p>with MacPorts::</p>
<pre><code>sudo port install gsed gawk binutils gperf grep gettext ncurses
</code></pre>
</li>
<li>
<p>with homebrew (<em>TODO: provide list of packages for homebrew</em>)</p>
</li>
</ul>
<p>Create a case-sensitive filesystem image::</p>
<pre><code>hdiutil create ~/esp/crosstool.dmg -volname "ctng" -size 10g -fs "Case-sensitive HFS+"
</code></pre>
<p>Mount it::</p>
<pre><code>hdiutil mount ~/esp/crosstool.dmg
</code></pre>
<p>Create a symlink to your work directory::</p>
<pre><code>cd ~/esp
ln -s /Volumes/ctng crosstool-NG
</code></pre>
<p>Download <code>crosstool-NG</code> and build it::</p>
<pre><code>cd ~/esp
git clone -b xtensa-1.22.x https://github.com/espressif/crosstool-NG.git
cd crosstool-NG
./bootstrap &amp;&amp; ./configure --prefix=$PWD &amp;&amp; make install
</code></pre>
<p>Build the toolchain::</p>
<pre><code>./ct-ng xtensa-esp32-elf
./ct-ng build
chmod -R u+w builds/xtensa-esp32-elf
</code></pre>
<p>Toolchain will be built in <code>~/esp/crosstool-NG/builds/xtensa-esp32-elf</code>. Follow instructions given in the previous section to add the toolchain to your <code>PATH</code>.</p>
<h1 id="step-2-getting-esp-idf-from-github">Step 2: Getting ESP-IDF from github<a class="headerlink" href="#step-2-getting-esp-idf-from-github" title="Permanent link">#</a></h1>
<p>Open Terminal.app, navigate to the directory you want to clone ESP-IDF and clone it using <code>git clone</code> command::</p>
<pre><code>cd ~/esp
git clone --recursive https://github.com/espressif/esp-idf.git
</code></pre>
<p>ESP-IDF will be downloaded into <code>~/esp/esp-idf</code>. </p>
<p>Note the <code>--recursive</code> option! If you have already cloned ESP-IDF without this option, run another command to get all the submodules::</p>
<pre><code>cd ~/esp/esp-idf
git submodule update --init
</code></pre>
<h1 id="step-3-starting-a-project">Step 3: Starting a project<a class="headerlink" href="#step-3-starting-a-project" title="Permanent link">#</a></h1>
<p>ESP-IDF by itself does not build a binary to run on the ESP32. The binary &ldquo;app&rdquo; comes from a project in a different directory. Multiple projects can share the same ESP-IDF directory.</p>
<p>The easiest way to start a project is to download the template project from GitHub::</p>
<pre><code>cd ~/esp
git clone https://github.com/espressif/esp-idf-template.git myapp
</code></pre>
<p>This will download <code>esp-idf-template</code> project into <code>~/esp/myapp</code> directory.</p>
<p><strong>IMPORTANT:</strong> The esp-idf build system does not support spaces in paths to esp-idf or to projects.</p>
<h1 id="step-4-building-and-flashing-the-application">Step 4: Building and flashing the application<a class="headerlink" href="#step-4-building-and-flashing-the-application" title="Permanent link">#</a></h1>
<p>In Terminal.app, go to the application directory which was obtained on the previous step::</p>
<pre><code>cd ~/esp/myapp
</code></pre>
<p>Type a command like this to set the path to ESP-IDF directory:: </p>
<pre><code>export IDF_PATH=~/esp/esp-idf
</code></pre>
<p>At this point you may configure the serial port to be used for uploading. Run::</p>
<pre><code>make menuconfig
</code></pre>
<p>Then navigate to &ldquo;Serial flasher config&rdquo; submenu and change value of &ldquo;Default serial port&rdquo; to match the serial port you will use. Also take a moment to explore other options which are configurable in <code>menuconfig</code>.</p>
<p>If you don&rsquo;t know device name for the  serial port of your development board, run this command two times, first with the board unplugged, then with the board plugged in. The port which appears the second time is the one you need::</p>
<pre><code>ls /dev/tty.*
</code></pre>
<p>Now you can build and flash the application. Run::</p>
<pre><code>make flash
</code></pre>
<p>This will compile the application and all the ESP-IDF components, generate bootloader, partition table, and application binaries, and flash these binaries to your development board.</p>
<h1 id="further-reading">Further reading<a class="headerlink" href="#further-reading" title="Permanent link">#</a></h1>
<p>If you&rsquo;d like to use the Eclipse IDE instead of running <code>make</code>, check out the Eclipse setup guide in this directory.</p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../install-linux/" class="btn btn-neutral float-right" title="Cài đặt cho Linux">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../install-windows/" class="btn btn-neutral" title="Cài đặt cho Windows"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
      <p>Copyright &copy; 2016 <a href="https://esp32.vn">ESP32 Việt Nam</a></p>
    
  </div>

  
</footer>
	  
        </div>
      </div>

    </section>

  </div>

<!-- <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/esp32vn/esp32.vn" class="icon icon-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../install-windows/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../install-linux/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div> -->

<script type="text/javascript">
  // If cookie is defined toggle the id
  if (typeof $.cookie('docToggle') !== 'undefined') {
      // Parse cookie which is an array
      var _parsed_cookie = JSON.parse($.cookie('docToggle'));
      // Loop over array and show hidden divs
      $.each(_parsed_cookie, function(index, value) {
          // Toggle
          $("[id='hidden_" + value + "']").css('display','');
      })
  }
</script>

</body>
</html>